webpackJsonp([1],{"+0JL":function(t,e){},"+9Hw":function(t,e){},"1xV1":function(t,e){},LjqR:function(t,e){},"N/m/":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("7+uW"),i={name:"App",data:function(){return{}},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("YDKk")},null,null).exports,r=a("/ocq"),o={data:function(){return{formLabelLogin:{username:"",password:"",remember:!0},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submit:function(){"admin"===this.formLabelLogin.username&&"admin"===this.formLabelLogin.password?(localStorage.setItem("username",this.formLabelLogin.username),this.$router.push("/service-admin")):this.$message.error("用户名或密码错误")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"管理运行平台管理系统",visible:!0,"show-close":!1,width:"600px"}},[a("el-form",{ref:"formLabelLogin",attrs:{"label-position":"right","label-width":"80px",rules:t.loginRules,model:t.formLabelLogin}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{"auto-complete":"off",spellcheck:"false"},model:{value:t.formLabelLogin.username,callback:function(e){t.$set(t.formLabelLogin,"username",e)},expression:"formLabelLogin.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",spellcheck:"false"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)}},model:{value:t.formLabelLogin.password,callback:function(e){t.$set(t.formLabelLogin,"password",e)},expression:"formLabelLogin.password"}})],1),t._v(" "),a("el-form-item",[a("el-checkbox",{model:{value:t.formLabelLogin.remember,callback:function(e){t.$set(t.formLabelLogin,"remember",e)},expression:"formLabelLogin.remember"}},[t._v("记住密码")]),t._v(" "),a("span",{staticStyle:{"margin-left":"20px",color:"#bbb"}},[t._v("密码有效时间为24小时")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,c,!1,function(t){a("LjqR")},null,null).exports,u={data:function(){return{name:"Admin"}},computed:{username:function(){var t=localStorage.getItem("username");return t||this.name}},methods:{handleCommand:function(t){"loginout"==t&&(localStorage.removeItem("username"),this.$router.push("/login"))}}},m={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"header"},[l("div",{staticClass:"logo"},[t._v("管理运行平台ESB管理与监控系统")]),t._v(" "),l("div",{staticClass:"user-info"},[l("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[l("span",{staticClass:"el-dropdown-link"},[l("img",{staticClass:"user-logo",attrs:{src:a("ZYPB")}}),t._v("\n                  "+t._s(t.username)+"\n              ")]),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{attrs:{command:"loginout"}},[t._v("退出")])],1)],1)],1)])},staticRenderFns:[]};var v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{attrs:{"default-active":t.onRoutes,id:"el-menu-vertical-demo","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:!0}},[a("el-menu-item",{attrs:{index:"service-admin"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("服务管理")])]),t._v(" "),a("el-menu-item",{attrs:{index:"route-admin"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("路由管理")])]),t._v(" "),a("el-menu-item",{attrs:{index:"system"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("系统用户")])]),t._v(" "),a("el-menu-item",{attrs:{index:"log"}},[a("i",{staticClass:"el-icon-setting"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("日志")])]),t._v(" "),a("el-submenu",{attrs:{index:"/"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),t._v(" "),a("span",[t._v("系统监控")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"mq-admin"}},[t._v("MQ监控")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"ws-admin"}},[t._v("WS监控")])],1)],2)],1)},staticRenderFns:[]};var p={components:{vHead:a("VU/8")(u,m,!1,function(t){a("+0JL")},"data-v-ee3b9316",null).exports,vSidebar:a("VU/8")({name:"homepage",data:function(){return{}},computed:{onRoutes:function(){return this.$route.path.replace("/","")}}},v,!1,function(t){a("N/m/")},null,null).exports}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper"},[e("v-head"),this._v(" "),e("v-sidebar"),this._v(" "),e("div",{staticClass:"content"},[e("transition",{attrs:{name:"move",mode:"out-in"}},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(p,_,!1,function(t){a("iqDb")},null,null).exports,E={data:function(){return{api:this.$store.state.api+"/api/route-config",tableData:[],tableVisibleData:[],cur_page:1,select_word:"",detail:{},detailVisible:!1,addData:{SERVICE_CODE:"",SERVICE_VERSION:"1.0",SENDER_ORG:"",SENDER:"",RECEIVER_ORG:"",RECEIVER:"",ENABLED_FLAG:"",REMARK:""},addVisible:!1,total:0,editData:{SERVICE_CODE:"",SERVICE_VERSION:"",SENDER_ORG:"",SENDER:"",RECEIVER_ORG:"",RECEIVER:"",ENABLED_FLAG:"",REMARK:""},editVisible:!1,editID:"",detail_CN:{REMARK:"备注",insert_TIMESTAMP:"插入时间",last_UPDATE_TIMESTAMP:"上次更新时间",pk_ROUTE:"数据库主键ID",sender_ORG:"发送平台",sender:"发送系统",receiver_ORG:"接收平台",receiver:"接收系统",service_CODE:"服务编号",service_VERSION:"服务版本",creator:"创建者",enabled_FLAG:"是否可用(1为可用，0为不可用)",remark:"备注",modifier:"修改者"}}},methods:{getData:function(){var t=this;this.axios.get(this.api+"/select-all").then(function(e){t.tableData=e.data.data,console.log(t.tableData),t.setVisibleData()})},add:function(){var t=this,e=this.$loading({lock:!0,text:"数据同步中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.get(this.$store.state.api+"/sync-route").then(function(a){e.close(),t.$notify({title:"同步成功",message:"受影响数据条数为："+a.data.count,duration:3e3}),t.getData(),t.getPage()}).catch(function(a){e.close(),t.$notify({title:"同步失败",message:"检查接口是否可用",duration:3e3})})},search:function(){var t=this;this.axios.get(this.api+"/selectbycondition",{params:{key:this.select_word.toUpperCase()}}).then(function(e){t.tableData=e.data.data,t.total=e.data.data.length,t.cur_page=1,t.setVisibleData()})},handleSelectionChange:function(){},handleEdit:function(t,e){this.editID=e.pk_ROUTE,this.editData.SERVICE_CODE=e.service_CODE,this.editData.SERVICE_VERSION=e.service_VERSION,this.editData.SENDER_ORG=e.sender_ORG,this.editData.SENDER=e.sender,this.editData.RECEIVER_ORG=e.receiver_ORG,this.editData.RECEIVER=e.receiver,this.editData.ENABLED_FLAG=e.enable_FLAG,this.editData.REMARK=e.remark,this.editVisible=!0},handleDelete:function(t,e){var a=this;this.$confirm("此操作将删除该条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios({method:"delete",url:a.api+"/delete",data:e}).then(function(t){200===t.data.code&&(a.getPage(),a.getData(),a.$message({message:"删除成功!",type:"success"})),400===t.data.code&&a.$message.error("删除出现错误！")}).catch(function(){a.$message({type:"info",message:"已取消删除"})})})},handleDetail:function(t,e){console.log(e),this.detail=e,this.detailVisible=!0},addItem:function(){var t=this;this.axios.post(this.api+"/add",this.addData).then(function(e){200===e.data.code&&(t.getPage(),t.getData(),t.$message({message:"新增成功",type:"success"}),t.initData(t.addData)),400===e.data.code&&t.$message.error("新增出现问题")}),this.getData(),this.addVisible=!1},handleCurrentChange:function(t){this.cur_page=t},getPage:function(){var t=this;this.axios.get(this.api+"/selectpageamount").then(function(e){t.total=e.data.data})},setVisibleData:function(){for(var t=10*(this.cur_page-1)+1,e=10*this.cur_page,a=[],l=0;l<this.tableData.length;l++)l>=t-1&&l<=e-1&&a.push(this.tableData[l]);this.tableVisibleData=a},editItem:function(){var t=this;this.editData.PK_ROUTE=this.editID,this.axios.post(this.api+"/update",this.editData).then(function(e){200===e.data.code&&(t.getData(),t.$message({message:"修改成功",type:"success"})),400===e.data.code&&t.$message.error("更新出现问题"),t.editVisible=!1})}},created:function(){this.getData(),this.getPage()},watch:{cur_page:function(){console.log(this.cur_page),this.setVisibleData()}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"route-admin"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v("路由管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("路由列表")])],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.add}},[t._v("数据同步")]),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("el-input",{attrs:{placeholder:"筛选关键词",id:"handle-input"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableVisibleData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"pk_ROUTE",label:"Route ID",width:"245"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_CODE",label:"服务编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sender_ORG",label:"发送平台"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sender",label:"发送者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receiver_ORG",label:"接收平台"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receiver",label:"接收者"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80",fixed:"right",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleDetail(e.$index,e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"详细信息",visible:t.detailVisible,modal:!1},on:{"update:visible":function(e){t.detailVisible=e}}},[a("table",{staticClass:"add-message",attrs:{border:"0",cellspacing:"3",cellpadding:"3"}},[a("tr",[a("th",[t._v(" key ")]),t._v(" "),a("th",[t._v(" value ")])]),t._v(" "),t._l(t.detail,function(e,l){return a("tr",[a("td",{attrs:{width:"230"}},[t._v("\n          "+t._s(t.detail_CN[l])+"\n        ")]),t._v(" "),a("td",[t._v(t._s(e))])])})],2),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.detailVisible=!1}}},[t._v("确定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"新增路由",visible:t.addVisible,modal:!1,"custom-class":"edit-dialog"},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",{attrs:{model:t.addData,"label-width":"80px",inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"服务编号"}},[a("el-input",{model:{value:t.addData.SERVICE_CODE,callback:function(e){t.$set(t.addData,"SERVICE_CODE",e)},expression:"addData.SERVICE_CODE"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务版本"}},[a("el-input",{model:{value:t.addData.SERVICE_VERSION,callback:function(e){t.$set(t.addData,"SERVICE_VERSION",e)},expression:"addData.SERVICE_VERSION"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送平台"}},[a("el-select",{model:{value:t.addData.SENDER_ORG,callback:function(e){t.$set(t.addData,"SENDER_ORG",e)},expression:"addData.SENDER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送系统"}},[a("el-select",{model:{value:t.addData.SENDER,callback:function(e){t.$set(t.addData,"SENDER",e)},expression:"addData.SENDER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"接收平台"}},[a("el-select",{model:{value:t.addData.RECEIVER_ORG,callback:function(e){t.$set(t.addData,"RECEIVER_ORG",e)},expression:"addData.RECEIVER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"接收系统"}},[a("el-select",{model:{value:t.addData.RECEIVER,callback:function(e){t.$set(t.addData,"RECEIVER",e)},expression:"addData.RECEIVER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"ENABLED"}},[a("el-select",{model:{value:t.addData.ENABLED_FLAG,callback:function(e){t.$set(t.addData,"ENABLED_FLAG",e)},expression:"addData.ENABLED_FLAG"}},[a("el-option",{attrs:{label:"是",value:1}}),t._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"说明信息"}},[a("div",{staticStyle:{width:"450px"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入说明信息",size:"medium"},model:{value:t.addData.REMARK,callback:function(e){t.$set(t.addData,"REMARK",e)},expression:"addData.REMARK"}})],1)])],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addItem}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑路由",visible:t.editVisible,modal:!1,"custom-class":"edit-dialog"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{attrs:{model:t.addData,"label-width":"80px",inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"服务编号"}},[a("el-input",{model:{value:t.editData.SERVICE_CODE,callback:function(e){t.$set(t.editData,"SERVICE_CODE",e)},expression:"editData.SERVICE_CODE"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务版本"}},[a("el-input",{model:{value:t.editData.SERVICE_VERSION,callback:function(e){t.$set(t.editData,"SERVICE_VERSION",e)},expression:"editData.SERVICE_VERSION"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送平台"}},[a("el-select",{model:{value:t.editData.SENDER_ORG,callback:function(e){t.$set(t.editData,"SENDER_ORG",e)},expression:"editData.SENDER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送系统"}},[a("el-select",{model:{value:t.editData.SENDER,callback:function(e){t.$set(t.editData,"SENDER",e)},expression:"editData.SENDER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"接收平台"}},[a("el-select",{model:{value:t.editData.RECEIVER_ORG,callback:function(e){t.$set(t.editData,"RECEIVER_ORG",e)},expression:"editData.RECEIVER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"接收系统"}},[a("el-select",{model:{value:t.editData.RECEIVER,callback:function(e){t.$set(t.editData,"RECEIVER",e)},expression:"editData.RECEIVER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"ENABLED"}},[a("el-select",{model:{value:t.editData.ENABLED_FLAG,callback:function(e){t.$set(t.editData,"ENABLED_FLAG",e)},expression:"editData.ENABLED_FLAG"}},[a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"说明信息"}},[a("div",{staticStyle:{width:"450px"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入说明信息",size:"medium"},model:{value:t.editData.REMARK,callback:function(e){t.$set(t.editData,"REMARK",e)},expression:"editData.REMARK"}})],1)])],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editItem}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(E,f,!1,function(t){a("+9Hw")},null,null).exports,D={data:function(){return{api:this.$store.state.api+"/api/service",tableData:[],tableVisibleData:[],cur_page:1,select_word:"",detail:{},detailVisible:!1,addData:{SERVICE_CODE:"",SERVICE_VERSION:"1.0",OWNER_ORG:"",OWNER:"",TYPE:"",ENABLED_FLAG:"",REMARK:""},addVisible:!1,total:0,editData:{SERVICE_CODE:"",SERVICE_VERSION:"",OWNER_ORG:"",OWNER:"",TYPE:"",ENABLED_FLAG:"",REMARK:""},editVisible:!1,editID:"",detail_CN:{REMARK:"备注",insert_TIMESTAMP:"插入时间",last_UPDATE_TIMESTAMP:"上次更新时间",pk_SERVICE:"数据库主键ID",type:"服务类型",owner_ORG:"所属平台",owner:"所属系统",service_CODE:"服务编号",service_VERSION:"服务版本",creator:"创建者",enabled_FLAG:"是否可用(1为可用，0为不可用)",remark:"备注",modifier:"修改者"}}},methods:{getData:function(){var t=this;this.axios.get(this.api+"/select-all").then(function(e){t.tableData=e.data.data,console.log(t.tableData),t.setVisibleData()})},add:function(){var t=this,e=this.$loading({lock:!0,text:"数据同步中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.get(this.$store.state.api+"/sync-service").then(function(a){e.close(),t.$notify({title:"同步成功",message:"受影响数据条数为："+a.data.count,duration:3e3}),t.getData(),t.getPage()}).catch(function(a){e.close(),t.$notify({title:"同步失败",message:"检查接口是否可用",duration:3e3})})},search:function(){var t=this;this.axios.get(this.api+"/selectservicebycondition",{params:{key:this.select_word.toUpperCase()}}).then(function(e){t.tableData=e.data.data,t.total=e.data.data.length,t.cur_page=1,t.setVisibleData()})},handleSelectionChange:function(){},handleEdit:function(t,e){this.editID=e.pk_SERVICE,this.editData.SERVICE_CODE=e.service_CODE,this.editData.SERVICE_VERSION=e.service_VERSION,this.editData.OWNER_ORG=e.owner_ORG,this.editData.OWNER=e.owner,this.editData.TYPE=e.type,this.editData.ENABLED_FLAG=e.enabled_FLAG,this.editData.REMARK=e.remark,this.editVisible=!0},handleDelete:function(t,e){var a=this;this.$confirm("此操作将删除该条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios({method:"delete",url:a.api+"/delete",data:e}).then(function(t){200===t.data.code&&(a.getPage(),a.getData(),a.$message({message:"删除成功!",type:"success"})),400===t.data.code&&a.$message.error("删除出现错误！")}).catch(function(){a.$message({type:"info",message:"已取消删除"})})})},handleDetail:function(t,e){this.detail=e,this.detailVisible=!0},addItem:function(){var t=this;this.axios.post(this.api+"/add",this.addData).then(function(e){200===e.data.code&&(t.getPage(),t.getData(),t.$message({message:"新增成功",type:"success"}),t.initData(t.addData)),400===e.data.code&&t.$message.error("新增出现问题")}),this.getData(),this.addVisible=!1},handleCurrentChange:function(t){this.cur_page=t},getPage:function(){var t=this;this.axios.get(this.api+"/selectpageamount").then(function(e){t.total=e.data.data})},setVisibleData:function(){for(var t=10*(this.cur_page-1)+1,e=10*this.cur_page,a=[],l=0;l<this.tableData.length;l++)l>=t-1&&l<=e-1&&a.push(this.tableData[l]);this.tableVisibleData=a},editItem:function(){var t=this;this.editData.PK_SERVICE=this.editID,this.axios.post(this.api+"/update",this.editData).then(function(e){200===e.data.code&&(t.getData(),t.$message({message:"修改成功",type:"success"})),400===e.data.code&&t.$message.error("更新出现问题"),t.editVisible=!1})},initData:function(t){for(var e in t)t[e]=""}},created:function(){this.getData(),this.getPage()},watch:{cur_page:function(){console.log(this.cur_page),this.setVisibleData()}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"service-admin"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v("服务管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("服务列表")])],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.add}},[t._v("数据同步")]),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("el-input",{attrs:{placeholder:"筛选关键词",id:"service-handle-input"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableVisibleData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"pk_SERVICE",label:"Service ID",width:"240"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_CODE",label:"服务编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"owner_ORG",label:"所属平台"}}),t._v(" "),a("el-table-column",{attrs:{prop:"owner",label:"服务名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"服务类型"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80",fixed:"right",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleDetail(e.$index,e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"详细信息",visible:t.detailVisible,modal:!1},on:{"update:visible":function(e){t.detailVisible=e}}},[a("table",{staticClass:"detail-message",attrs:{border:"0",cellspacing:"3",cellpadding:"3"}},[a("tr",[a("th",[t._v(" key ")]),t._v(" "),a("th",[t._v(" value ")])]),t._v(" "),t._l(t.detail,function(e,l){return a("tr",[a("td",{attrs:{width:"230"}},[t._v("\n            "+t._s(t.detail_CN[l])+"\n          ")]),t._v(" "),a("td",[t._v(t._s(e))])])})],2),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.detailVisible=!1}}},[t._v("确定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"新增服务",visible:t.addVisible,modal:!1},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",{attrs:{model:t.addData,"label-width":"80px",inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"服务编号"}},[a("el-input",{model:{value:t.addData.SERVICE_CODE,callback:function(e){t.$set(t.addData,"SERVICE_CODE",e)},expression:"addData.SERVICE_CODE"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务版本"}},[a("el-input",{model:{value:t.addData.SERVICE_VERSION,callback:function(e){t.$set(t.addData,"SERVICE_VERSION",e)},expression:"addData.SERVICE_VERSION"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属平台"}},[a("el-select",{model:{value:t.addData.OWNER_ORG,callback:function(e){t.$set(t.addData,"OWNER_ORG",e)},expression:"addData.OWNER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"所属系统"}},[a("el-select",{model:{value:t.addData.OWNER,callback:function(e){t.$set(t.addData,"OWNER",e)},expression:"addData.OWNER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"服务类型"}},[a("el-select",{model:{value:t.addData.TYPE,callback:function(e){t.$set(t.addData,"TYPE",e)},expression:"addData.TYPE"}},t._l(this.$store.state.serviceType,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"ENABLED"}},[a("el-select",{model:{value:t.addData.ENABLED_FLAG,callback:function(e){t.$set(t.addData,"ENABLED_FLAG",e)},expression:"addData.ENABLED_FLAG"}},[a("el-option",{attrs:{label:"是",value:1}}),t._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"说明信息"}},[a("div",{staticStyle:{width:"450px"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入说明信息",size:"medium"},model:{value:t.addData.REMARK,callback:function(e){t.$set(t.addData,"REMARK",e)},expression:"addData.REMARK"}})],1)])],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addItem}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑服务",visible:t.editVisible,modal:!1},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{attrs:{model:t.addData,"label-width":"80px",inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"服务编号"}},[a("el-input",{model:{value:t.editData.SERVICE_CODE,callback:function(e){t.$set(t.editData,"SERVICE_CODE",e)},expression:"editData.SERVICE_CODE"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务版本"}},[a("el-input",{model:{value:t.editData.SERVICE_VERSION,callback:function(e){t.$set(t.editData,"SERVICE_VERSION",e)},expression:"editData.SERVICE_VERSION"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属平台"}},[a("el-select",{model:{value:t.editData.OWNER_ORG,callback:function(e){t.$set(t.editData,"OWNER_ORG",e)},expression:"editData.OWNER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"所属系统"}},[a("el-select",{model:{value:t.editData.OWNER,callback:function(e){t.$set(t.editData,"OWNER",e)},expression:"editData.OWNER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"服务类型"}},[a("el-select",{model:{value:t.editData.TYPE,callback:function(e){t.$set(t.editData,"TYPE",e)},expression:"editData.TYPE"}},t._l(this.$store.state.serviceType,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"ENABLED"}},[a("el-select",{model:{value:t.editData.ENABLED_FLAG,callback:function(e){t.$set(t.editData,"ENABLED_FLAG",e)},expression:"editData.ENABLED_FLAG"}},[a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"说明信息"}},[a("div",{staticStyle:{width:"450px"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入说明信息",size:"medium"},model:{value:t.editData.REMARK,callback:function(e){t.$set(t.editData,"REMARK",e)},expression:"editData.REMARK"}})],1)])],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editItem}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var R=a("VU/8")(D,g,!1,function(t){a("kzcI")},null,null).exports,C={data:function(){return{api:this.$store.state.api+"/api/msgflow",filter:{LOG_TIMESTAMP:"",showError:!1,sender_org:"",sender:"",receiver_org:"",receiver:""},form:{mindate:"",maxdate:"",sender_org:"",sender:"",receiver_org:"",receiver:"",type:!1,page:"1"},tableData:[],tableVisibleData:[],total:0,cur_page:1,detailVisible:!1,detailData:{sender_org:"",sender:"",receiver_org:"",receiver:"",service_code:"",service_version:"",requestDate:"",responseDate:"",requestMsg:"",responseMsg:"",isSuccess:!0},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},methods:{getData:function(){var t=this;this.axios.post(this.api+"/selectmsg",this.form).then(function(e){if(console.log(e.data),t.tableVisibleData=e.data.data,""!=t.tableVisibleData||null!=t.tableVisibleData)for(var a=0;a<t.tableVisibleData.length;a++)t.tableVisibleData[a].log_TIMESTAMP=t.tableVisibleData[a].log_TIMESTAMP.substring(0,19);t.total=e.data.number})},handleSelectionChange:function(){},handleDetail:function(t,e){var a=this;this.axios.post(this.api+"/selectmsgbynumber",{serial_number:e.serial_NUMBER}).then(function(t){a.detailVisible=!0;var e=t.data.data;a.detailData.sender_org=e[0].sender_ORG,a.detailData.sender=e[0].sender,a.detailData.receiver_org=e[0].receiver_ORG,a.detailData.receiver=e[0].receiver,a.detailData.service_code=e[0].service_CODE,a.detailData.service_version=e[0].service_VERSION,1===e[0].msg_TYPE?(a.detailData.requestDate=e[0].log_TIMESTAMP,a.detailData.responseDate=e[1].log_TIMESTAMP,a.detailData.requestMsg=e[0].msg,a.detailData.responseMsg=e[1].msg):(a.detailData.requestDate=e[1].log_TIMESTAMP,a.detailData.responseDate=e[0].log_TIMESTAMP,a.detailData.requestMsg=e[1].msg,a.detailData.responseMsg=e[0].msg),3!==e[0].msg_TYPE&&3!==e[1].msg_TYPE||(a.detailData.isSuccess=!1)}).catch(function(t){})},handleCurrentChange:function(t){this.form.page=t,this.getData()},clear:function(){this.filter.LOG_TIMESTAMP="",this.filter.sender_org="",this.filter.sender="",this.filter.receiver_org="",this.filter.receiver=""}},watch:{filter:{handler:function(t,e){this.form.mindate=this.filter.LOG_TIMESTAMP[0]||"",this.form.maxdate=this.filter.LOG_TIMESTAMP[1]||"",this.form.sender_org=this.filter.sender_org,this.form.sender=this.filter.sender,this.form.receiver_org=this.filter.receiver_org,this.form.receiver=this.filter.receiver,this.form.type=this.filter.showError},deep:!0},cur_page:function(){this.setVisibleData()}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v("日志")]),t._v(" "),a("el-breadcrumb-item",[t._v("日志查询")])],1)],1),t._v(" "),a("el-collapse",{attrs:{value:"1"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n        日志查询选项"),a("i",{staticClass:"el-icon-search"})]),t._v(" "),a("div",[a("el-form",{attrs:{inline:!0,model:t.filter,size:"mini"}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":t.pickerOptions,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.filter.LOG_TIMESTAMP,callback:function(e){t.$set(t.filter,"LOG_TIMESTAMP",e)},expression:"filter.LOG_TIMESTAMP"}})],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"服务接收平台"}},[a("el-select",{model:{value:t.filter.receiver_org,callback:function(e){t.$set(t.filter,"receiver_org",e)},expression:"filter.receiver_org"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"服务接收系统"}},[a("el-select",{model:{value:t.filter.receiver,callback:function(e){t.$set(t.filter,"receiver",e)},expression:"filter.receiver"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"服务发送平台"}},[a("el-select",{model:{value:t.filter.sender_org,callback:function(e){t.$set(t.filter,"sender_org",e)},expression:"filter.sender_org"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"服务发送系统"}},[a("el-select",{model:{value:t.filter.sender,callback:function(e){t.$set(t.filter,"sender",e)},expression:"filter.sender"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("div",[a("el-form-item",[a("el-switch",{attrs:{"active-text":"不包含错误信息","inactive-text":"所有日志记录"},model:{value:t.filter.showError,callback:function(e){t.$set(t.filter,"showError",e)},expression:"filter.showError"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-left":"28px"}},[a("el-button",{on:{click:t.clear}},[t._v("清空过滤项")])],1)],1),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getData}},[t._v("搜索")])],1)],1)],1)],2)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableVisibleData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"log_TIMESTAMP",label:"记录时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sender_ORG",label:"发送平台"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sender",label:"发送者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receiver_ORG",label:"接收平台"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receiver",label:"接收者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_CODE",label:"服务编号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80",fixed:"right",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleDetail(e.$index,e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"日志详情",visible:t.detailVisible,modal:!1,"custom-class":"edit-dialog",width:"800px"},on:{"update:visible":function(e){t.detailVisible=e}}},[a("div",{staticClass:"detail-row detail1"},[a("span",{staticClass:"detail-row-1"},[a("span",[t._v("请求平台：")]),a("span",[t._v(t._s(t.detailData.sender_org))])]),t._v(" "),a("span",{staticClass:"detail-row-2"},[a("span",[t._v("请求系统：")]),a("span",[t._v(t._s(t.detailData.sender))])])]),t._v(" "),a("div",{staticClass:"detail-row detail2"},[a("span",{staticClass:"detail-row-1"},[a("span",[t._v("接收平台：")]),a("span",[t._v(t._s(t.detailData.receiver_org))])]),t._v(" "),a("span",{staticClass:"detail-row-2"},[a("span",[t._v("接收系统：")]),a("span",[t._v(t._s(t.detailData.receiver))])])]),t._v(" "),a("div",{staticClass:"detail-row detail1"},[a("span",{staticClass:"detail-row-1"},[a("span",[t._v("服务编号：")]),a("span",[t._v(t._s(t.detailData.service_code))])]),t._v(" "),a("span",{staticClass:"detail-row-2"},[a("span",[t._v("服务版本：")]),a("span",[t._v(t._s(t.detailData.service_version))])])]),t._v(" "),a("div",{staticClass:"detail-row detail2"},[a("span",{staticClass:"detail-row-1"},[a("span",[t._v("请求时间：")]),a("span",[t._v(t._s(t.detailData.requestDate))])]),t._v(" "),a("span",{staticClass:"detail-row-2"},[t.detailData.isSuccess?a("span",[a("span",[t._v("响应时间：")]),a("span",[t._v(t._s(t.detailData.responseDate))])]):a("span",[a("span",[t._v("错误时间：")]),a("span",[t._v(t._s(t.detailData.responseDate))])])])]),t._v(" "),a("div",{staticStyle:{height:"250px"}},[a("div",{staticClass:"detail-msg detail-msg-1"},[a("div",[t._v("请求报文：")]),t._v(" "),a("div",{staticClass:"detail-msg-content"},[a("pre",[t._v(t._s(t.detailData.requestMsg))])])]),t._v(" "),a("div",{staticClass:"detail-msg detail-msg-2"},[a("div",[t._v("响应报文：")]),t._v(" "),a("div",{staticClass:"detail-msg-content"},[a("pre",[t._v(t._s(t.detailData.responseMsg))])])])])])],1)},staticRenderFns:[]};var S=a("VU/8")(C,V,!1,function(t){a("bE50")},null,null).exports,I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mq-admin"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-location"}),t._v("MQ监控")]),t._v(" "),a("el-breadcrumb-item",[t._v("综合管理平台")])],1)],1),t._v(" "),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n        Local Queue Managers"),a("i",{staticClass:"header-icon el-icon-info"})]),t._v(" "),a("div",{staticStyle:{"padding-left":"20px"}},[a("table",{attrs:{width:"500",cellspacing:"0",cellpadding:"3"}},[a("tr",{staticStyle:{"background-color":"#eee"},attrs:{align:"left"}},[a("th",[t._v("name")]),t._v(" "),a("th",[t._v("status")])]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.qmgr.name))]),t._v(" "),"running"==this.qmgr.status?a("td",{staticStyle:{color:"#0cdb1e"}},[a("i",{staticClass:"el-icon-loading"}),t._v("Running")]):a("td",[t._v("disable")])])])])],2),t._v(" "),a("el-collapse-item",{attrs:{title:"Listeners 监听器",name:"2"}},[a("div",{staticStyle:{"padding-left":"20px"}},[a("table",{attrs:{width:"500",cellspacing:"0",cellpadding:"3"}},[a("tr",{staticStyle:{"background-color":"#eee"},attrs:{align:"left"}},[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Port")]),t._v(" "),a("th",[t._v("Listener Status")])]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.listener.name))]),t._v(" "),a("td",[t._v(t._s(t.listener.port))]),t._v(" "),"running"==this.listener.status?a("td",{staticStyle:{color:"#0cdb1e"}},[a("i",{staticClass:"el-icon-loading"}),t._v("Running")]):a("td",[t._v("disable")])])])])]),t._v(" "),a("el-collapse-item",{attrs:{title:"Queue",name:"3"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.queueVisible,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"Name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"Type"}}),t._v(" "),a("el-table-column",{attrs:{prop:"currentdepth",label:"CurrentDepth"}})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")({data:function(){return{api:this.$store.state.api,qmgr:{name:"",status:""},listener:{name:"",port:"",status:""},queue:[],activeNames:["1","2","3"],cur_page:1,queueVisible:[],total:0}},methods:{getManagers:function(){var t=this;this.axios.get(this.api+"/api/Mqadmin/qmgr").then(function(e){t.qmgr.name=e.data.data[0].name,"RUNNING"===e.data.data[0].status?t.qmgr.status="running":t.qmgr.status="disabled"})},getListeners:function(){var t=this;this.axios.get(this.api+"/api/Mqadmin/qmgr/listener").then(function(e){t.listener.name=e.data.data[0].name,t.listener.port=e.data.data[0].port,"MQSVC_STATUS_RUNNING"===e.data.data[0].status?t.listener.status="running":t.listener.status="disable"})},getQueens:function(){var t=this;this.axios.get(this.api+"/api/Mqadmin/qmgr/queue").then(function(e){t.queue=e.data.data,t.total=t.queue.length,t.setVisibleData()})},handleCurrentChange:function(t){this.cur_page=t,this.setVisibleData()},setVisibleData:function(){for(var t=10*(this.cur_page-1)+1,e=10*this.cur_page,a=[],l=0;l<this.queue.length;l++)l>=t-1&&l<=e-1&&a.push(this.queue[l]);this.queueVisible=a}},created:function(){this.getManagers(),this.getListeners(),this.getQueens()}},I,!1,function(t){a("UAIn")},null,null).exports,O={data:function(){return{filter:{platform:"",service_code:"",time:[]},tableData:[],tableVisibleData:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},methods:{getData:function(){var t=this;this.axios.get("../../../static/WS-data.json").then(function(e){t.tableData=e.data})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mq-admin"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-location"}),t._v("WS监控")]),t._v(" "),a("el-breadcrumb-item",[t._v("接入平台管理")])],1)],1),t._v(" "),a("el-collapse",{attrs:{value:"1"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n        WS状态查询选项"),a("i",{staticClass:"el-icon-search"})]),t._v(" "),a("div",[a("el-form",{attrs:{inline:!0,model:t.filter,size:"mini"}},[a("div",[a("el-form-item",{attrs:{label:"平台名称"}},[a("el-select",{model:{value:t.filter.platform,callback:function(e){t.$set(t.filter,"platform",e)},expression:"filter.platform"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"服务编码"}},[a("el-input",{model:{value:t.filter.service_code,callback:function(e){t.$set(t.filter,"service_code",e)},expression:"filter.service_code"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.filter.time,callback:function(e){t.$set(t.filter,"time",e)},expression:"filter.time"}})],1)],1),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getData}},[t._v("搜索")])],1)])],1)],2)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"platform",label:"接入平台"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_code",label:"服务编码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"调用总数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"success",label:"成功调用次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fail",label:"失败调用次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"调用失败比例"}}),t._v(" "),a("el-table-column",{attrs:{prop:"last",label:"最近一次调用状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"last_time",label:"最近一次调用成功时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"last_fail",label:"最近一次调用失败时间"}})],1)],1)},staticRenderFns:[]};var y=a("VU/8")(O,k,!1,function(t){a("1xV1")},null,null).exports,$={data:function(){return{api:this.$store.state.api+"/api/system",tableData:[],tableVisibleData:[],cur_page:1,select_word:"",detail:{},detailVisible:!1,addData:{SERVICE_CODE:"",SERVICE_VERSION:"1.0",SENDER_ORG:"",SENDER:"",RECEIVER_ORG:"",RECEIVER:"",ENABLED_FLAG:"",REMARK:""},addVisible:!1,total:0,editData:{SERVICE_CODE:"",SERVICE_VERSION:"",SENDER_ORG:"",SENDER:"",RECEIVER_ORG:"",RECEIVER:"",ENABLED_FLAG:"",REMARK:""},editVisible:!1,editID:"",detail_CN:{insert_TIMESTAMP:"插入时间",last_UPDATE_TIMESTAMP:"上次更新时间",pk_SYSTEMUSER:"数据库主键ID",creator:"创建者",modifier:"修改者",systemuser_ORG:"系统用户平台",systemuser_CODE:"系统用户编码",systemuser_DESC:"系统用户描述"}}},methods:{getData:function(){var t=this;this.axios.get(this.api+"/select-all").then(function(e){t.tableData=e.data.data,console.log(t.tableData),t.setVisibleData()})},add:function(){var t=this,e=this.$loading({lock:!0,text:"数据同步中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.get(this.$store.state.api+"/sync-system").then(function(a){e.close(),t.$notify({title:"同步成功",message:"受影响数据条数为："+a.data.count,duration:3e3}),t.getData(),t.getPage()}).catch(function(a){e.close(),t.$notify({title:"同步失败",message:"检查接口是否可用",duration:3e3})})},search:function(){var t=this;this.axios.get(this.api+"/selectbycondition",{params:{key:this.select_word.toUpperCase()}}).then(function(e){t.tableData=e.data.data,t.total=e.data.data.length,t.cur_page=1,t.setVisibleData()})},handleSelectionChange:function(){},handleEdit:function(t,e){this.editID=e.pk_ROUTE,this.editData.SERVICE_CODE=e.service_CODE,this.editData.SERVICE_VERSION=e.service_VERSION,this.editData.SENDER_ORG=e.sender_ORG,this.editData.SENDER=e.sender,this.editData.RECEIVER_ORG=e.receiver_ORG,this.editData.RECEIVER=e.receiver,this.editData.ENABLED_FLAG=e.enable_FLAG,this.editData.REMARK=e.remark,this.editVisible=!0},handleDelete:function(t,e){var a=this;this.$confirm("此操作将删除该条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios({method:"delete",url:a.api+"/delete",data:e}).then(function(t){200===t.data.code&&(a.getPage(),a.getData(),a.$message({message:"删除成功!",type:"success"})),400===t.data.code&&a.$message.error("删除出现错误！")}).catch(function(){a.$message({type:"info",message:"已取消删除"})})})},handleDetail:function(t,e){this.detail=e,this.detailVisible=!0},addItem:function(){var t=this;this.axios.post(this.api+"/add",this.addData).then(function(e){200===e.data.code&&(t.getPage(),t.getData(),t.$message({message:"新增成功",type:"success"}),t.initData(t.addData)),400===e.data.code&&t.$message.error("新增出现问题")}),this.getData(),this.addVisible=!1},handleCurrentChange:function(t){this.cur_page=t},getPage:function(){var t=this;this.axios.get(this.api+"/selectpageamount").then(function(e){t.total=e.data.data})},setVisibleData:function(){for(var t=10*(this.cur_page-1)+1,e=10*this.cur_page,a=[],l=0;l<this.tableData.length;l++)l>=t-1&&l<=e-1&&a.push(this.tableData[l]);this.tableVisibleData=a},editItem:function(){var t=this;this.editData.PK_ROUTE=this.editID,this.axios.post(this.api+"/update",this.editData).then(function(e){200===e.data.code&&(t.getData(),t.$message({message:"修改成功",type:"success"})),400===e.data.code&&t.$message.error("更新出现问题"),t.editVisible=!1})}},created:function(){this.getData(),this.getPage()},watch:{cur_page:function(){console.log(this.cur_page),this.setVisibleData()}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"route-admin"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v("接入系统")]),t._v(" "),a("el-breadcrumb-item",[t._v("系统列表")])],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.add}},[t._v("数据同步")]),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("el-input",{attrs:{placeholder:"筛选关键词",id:"handle-input"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableVisibleData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"pk_SYSTEMUSER",label:"System User ID",width:"245"}}),t._v(" "),a("el-table-column",{attrs:{prop:"systemuser_CODE",label:"系统用户编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"systemuser_ORG",label:"系统用户平台"}}),t._v(" "),a("el-table-column",{attrs:{prop:"insert_TIMESTAMP",label:"插入时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"last_UPDATE_TIMESTAMP",label:"上次修改时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"creator",label:"创建者"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80",fixed:"right",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleDetail(e.$index,e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"详细信息",visible:t.detailVisible,modal:!1},on:{"update:visible":function(e){t.detailVisible=e}}},[a("table",{staticClass:"detail-message",attrs:{border:"0",cellspacing:"3",cellpadding:"3"}},[a("tr",[a("th",[t._v(" key ")]),t._v(" "),a("th",[t._v(" value ")])]),t._v(" "),t._l(t.detail,function(e,l){return a("tr",[a("td",{attrs:{width:"230"}},[t._v("\n            "+t._s(t.detail_CN[l])+"\n          ")]),t._v(" "),a("td",[t._v(t._s(e))])])})],2),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.detailVisible=!1}}},[t._v("确定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"新增路由",visible:t.addVisible,modal:!1,"custom-class":"edit-dialog"},on:{"update:visible":function(e){t.addVisible=e}}},[a("table",{staticClass:"edit-route",attrs:{border:"0",cellspacing:"0"}},t._l(t.addData,function(e,l){return a("tr",[a("el-tag",[a("td",{attrs:{width:"120"}},[t._v("\n            "+t._s(l)+"\n          ")])]),t._v(" "),a("td",[a("el-input",{attrs:{size:"mini"},model:{value:t.addData[l],callback:function(e){t.$set(t.addData,l,e)},expression:"addData[key]"}})],1)],1)})),t._v(" "),a("el-form",{attrs:{model:t.addData,"label-width":"80px",inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"服务编号"}},[a("el-input",{model:{value:t.addData.SERVICE_CODE,callback:function(e){t.$set(t.addData,"SERVICE_CODE",e)},expression:"addData.SERVICE_CODE"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务版本"}},[a("el-input",{model:{value:t.addData.SERVICE_VERSION,callback:function(e){t.$set(t.addData,"SERVICE_VERSION",e)},expression:"addData.SERVICE_VERSION"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送平台"}},[a("el-select",{model:{value:t.addData.SENDER_ORG,callback:function(e){t.$set(t.addData,"SENDER_ORG",e)},expression:"addData.SENDER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送系统"}},[a("el-select",{model:{value:t.addData.SENDER,callback:function(e){t.$set(t.addData,"SENDER",e)},expression:"addData.SENDER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"接收平台"}},[a("el-select",{model:{value:t.addData.RECEIVER_ORG,callback:function(e){t.$set(t.addData,"RECEIVER_ORG",e)},expression:"addData.RECEIVER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"接收系统"}},[a("el-select",{model:{value:t.addData.RECEIVER,callback:function(e){t.$set(t.addData,"RECEIVER",e)},expression:"addData.RECEIVER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"ENABLED"}},[a("el-select",{model:{value:t.addData.ENABLED_FLAG,callback:function(e){t.$set(t.addData,"ENABLED_FLAG",e)},expression:"addData.ENABLED_FLAG"}},[a("el-option",{attrs:{label:"是",value:1}}),t._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"说明信息"}},[a("div",{staticStyle:{width:"450px"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入说明信息",size:"medium"},model:{value:t.addData.REMARK,callback:function(e){t.$set(t.addData,"REMARK",e)},expression:"addData.REMARK"}})],1)])],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addItem}},[t._v("确定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑路由",visible:t.editVisible,modal:!1,"custom-class":"edit-dialog"},on:{"update:visible":function(e){t.editVisible=e}}},[a("table",{staticClass:"edit-route",attrs:{border:"0",cellspacing:"3",cellpadding:"3"}},t._l(t.editData,function(e,l){return a("tr",{staticClass:"edit-route-tr"},[a("el-tag",{staticClass:"edit-route-td",attrs:{type:"success"}},[a("td",{attrs:{width:"120"}},[t._v("\n            "+t._s(l)+"\n          ")])]),t._v(" "),a("td",[a("el-input",{attrs:{size:"mini"},model:{value:t.editData[l],callback:function(e){t.$set(t.editData,l,e)},expression:"editData[key]"}})],1)],1)})),t._v(" "),a("el-form",{attrs:{model:t.addData,"label-width":"80px",inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"服务编号"}},[a("el-input",{model:{value:t.editData.SERVICE_CODE,callback:function(e){t.$set(t.editData,"SERVICE_CODE",e)},expression:"editData.SERVICE_CODE"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务版本"}},[a("el-input",{model:{value:t.editData.SERVICE_VERSION,callback:function(e){t.$set(t.editData,"SERVICE_VERSION",e)},expression:"editData.SERVICE_VERSION"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送平台"}},[a("el-select",{model:{value:t.editData.SENDER_ORG,callback:function(e){t.$set(t.editData,"SENDER_ORG",e)},expression:"editData.SENDER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送系统"}},[a("el-select",{model:{value:t.editData.SENDER,callback:function(e){t.$set(t.editData,"SENDER",e)},expression:"editData.SENDER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"接收平台"}},[a("el-select",{model:{value:t.editData.RECEIVER_ORG,callback:function(e){t.$set(t.editData,"RECEIVER_ORG",e)},expression:"editData.RECEIVER_ORG"}},t._l(this.$store.state.platform,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"接收系统"}},[a("el-select",{model:{value:t.editData.RECEIVER,callback:function(e){t.$set(t.editData,"RECEIVER",e)},expression:"editData.RECEIVER"}},t._l(this.$store.state.system.MDXP,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"ENABLED"}},[a("el-select",{model:{value:t.editData.ENABLED_FLAG,callback:function(e){t.$set(t.editData,"ENABLED_FLAG",e)},expression:"editData.ENABLED_FLAG"}},[a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"说明信息"}},[a("div",{staticStyle:{width:"450px"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入说明信息",size:"medium"},model:{value:t.editData.REMARK,callback:function(e){t.$set(t.editData,"REMARK",e)},expression:"editData.REMARK"}})],1)])],1),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editItem}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var w=a("VU/8")($,N,!1,function(t){a("o/zw")},null,null).exports;l.default.use(r.a);var A=new r.a({routes:[{path:"/",redirect:"/login"},{path:"/home",component:b,children:[{path:"/service-admin",component:R},{path:"/route-admin",component:h},{path:"/log",component:S},{path:"/mq-admin",component:x},{path:"/ws-admin",component:y},{path:"/system",component:w}]},{path:"/login",component:d}]}),M=a("NYxO");l.default.use(M.a);var L=new M.a.Store({state:{api:"",platform:[{value:"DDXP",label:"数据交换平台"},{value:"ADXP",label:"生产运行平台"},{value:"MDXP",label:"管理运行平台"},{value:"SDXP",label:"安全运行平台"},{value:"FDXP",label:"服务运行平台"}],system:{MDXP:[{value:"HR",label:"人力资源管理系统"},{value:"PAM",label:"资产管理系统"},{value:"FINM",label:"财务管理系统"},{value:"SMS",label:"安全信息管理系统"}]},serviceType:[{value:"M",label:"MQ"},{value:"W",label:"WebService"}]},mutations:{}}),G=a("mtWM"),T=a.n(G),P=a("Rf8U"),F=a.n(P),B=(a("uMhA"),a("zL8q")),q=a.n(B);a("tvR6");l.default.config.productionTip=!1,l.default.use(F.a,T.a),l.default.use(q.a,{size:"small"}),new l.default({el:"#app",router:A,store:L,components:{App:n},template:"<App/>"})},UAIn:function(t,e){},YDKk:function(t,e){},ZYPB:function(t,e,a){t.exports=a.p+"static/img/img.2aab7b4.jpg"},bE50:function(t,e){},iqDb:function(t,e){},kzcI:function(t,e){},"o/zw":function(t,e){},tvR6:function(t,e){},uMhA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9998e9ffc138dcf88856.js.map